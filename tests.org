#+setupfile: ./settings/README.org
#+property: header-args:hy :tangle yes

* Preparations
** Richyrich Traceback

#+begin_src hy
(import richyrich.traceback)
(.install richyrich.traceback)
#+end_src

** Imports
*** From

#+begin_src hy
(import oreo [eclair])
(import os [path :as osPath])
#+end_src

** Zoom Decorator

#+begin_src hy
(setv funcs [])
(defn zoom [func] (.append funcs func))
#+end_src

* Tests
** Eclair

#+begin_src hy
#@(zoom (defn 69611341-cf92-48bb-8cda-79c7fe28d9f2 []
              (import oreo [eclair])
              (for [i (eclair (range 100) "69611341-cf92-48bb-8cda-79c7fe28d9f2" "red")])))
#+end_src

** Gensing

#+begin_src hy
#@(zoom (defn 9a62edb0-a552-4283-914a-b4731968b1e4 []
              (import oreo [tea])
              (setv test (tea :a "b" :c "d"))
              (.append test "f")
              (.extend test "h" "j" "l")
              (.glue test "mnop")
              (.glue test (tea :q "r" :s "t"))
              (.glue test ["v" "x"])
              (assert (test) "b d f h j lmnopr tv x")))
#+end_src

** Either?

#+begin_src hy
#@(zoom (defn 66c3744b-a036-4476-b1ae-024bc99bee41 []
              (import oreo [either?])
              (import collections [OrderedDict])
              (import addict [Dict])
              (assert (either? OrderedDict dict))
              (assert (either? Dict dict))
              (assert (either? OrderedDict Dict))
              (assert (= (either? "Dict" Dict) False))
              (assert (either? "Dict" str))
              (assert (= (either? "Dict" Dict list) False))
              (assert (either? "OrderedDict" "Dict"))
              (assert (either? "OrderedDict" "Dict" list))))
#+end_src

** First or Last N Values

#+begin_src hy
#@(zoom (defn 554446e6-ffb6-4469-b4d2-90282e466751 []
              (import oreo [first-last-n])
              (setv ten (range 10))
              (assert (all (gfor i (range 5) (in i (first-last-n :iterable ten :number 5)))))
              (assert (all (gfor i (range 5 10) (in i (first-last-n :iterable ten :number 5 :last True)))))))
#+end_src

** Flatten

#+begin_src hy
#@(zoom (defn a54f24d7-4620-4834-b996-04af2973926f []
              (import oreo [flatten])
              (setv nested (, 1 (, 2 (, 3 (, 4)))))
              (assert (= (flatten nested) [1 2 3 4]))
              (assert (= (flatten nested :times 0) nested))
              (assert (= (flatten nested :times 1) [1 2 (, 3 (, 4))]))
              (assert (= (flatten nested :times 2) [1 2 3 (, 4)]))
              (assert (= (flatten nested :times 3) [1 2 3 4]))))
#+end_src

* Run Everything

#+begin_src hy
(for [func (eclair funcs "tests" "blue")] (func))
#+end_src